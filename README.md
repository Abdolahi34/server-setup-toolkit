# Server Setup Toolkit

ุงู ูพุฑูฺู ุดุงูู ฺูุฏ ุงุณฺฉุฑูพุช ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุงููู ุณุฑูุฑ Ubuntuุ ุงููโุณุงุฒ SSH ู ุฏุฑุงูุช ุงุนูุงู ูุงฺฏูโูุง ุงุฒ ุทุฑู ุชูฺฏุฑุงู ุงุณุช.  
ูุฏู ุงู ุงุณุช ฺฉู ุจุชูุงูุฏ ุจุง ฺูุฏ ุฏุณุชูุฑ ุณุงุฏูุ ุณุฑูุฑ ุฎูุฏ ุฑุง ุขูุงุฏู ุงุณุชูุงุฏู ฺฉุฑุฏู ู ุงููุช ุงููู ุขู ุฑุง ุชุถูู ฺฉูุฏ.

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
server-setup-toolkit/
|
โโโ initial_server_setup/
โ   โโโ firewall_lockdown.sh     # ุจุณุชู ุชูุงู ูพูุฑุชโูุง ุจู ุฌุฒ SSH
โ   โโโ setup_ssh_notify.sh      # ุงุฑุณุงู ุงุนูุงู ูุงฺฏู SSH ุจู ุชูฺฏุฑุงู
โ   โโโ ubuntu_init_setup.sh     # ุงุณฺฉุฑูพุช ุงุตู ุชูุธูุงุช ุงููู ุณุฑูุฑ
โ
โโโ build_ssh_key/
โ   โโโ build_ssh_key.bat        # ุณุงุฎุช ฺฉูุฏ SSH ุฏุฑ ููุฏูุฒ
โ   โโโ build_ssh_key.sh         # ุณุงุฎุช ฺฉูุฏ SSH ุฏุฑ ูููฺฉุณ
โ
โโโ fail2ban_installer/
โ   โโโ install.sh               # ูุตุจ fail2ban
โ
โโโ README.md                    # ุฑุงูููุง ุงุณุชูุงุฏู
```

## โ๏ธ ูพุดโูุงุฒูุง

- ุณุฑูุฑ Ubuntu (ุชุฑุฌุญุงู ูุณุฎู LTS - ุชุณุช ุดุฏู ุฑู 24.04)
- ุฏุณุชุฑุณ **root** ุจู ุณุฑูุฑ
- ฺฉ **ฺฉูุฏ SSH** ุจุฑุง ูุฑูุฏ ุงูู
- (ุงุฎุชุงุฑ) ุฑุจุงุช ุชูฺฏุฑุงู ุจุฑุง ุงุนูุงู ูุฑูุฏูุง

## ๐ ูุฑุงุญู ูุตุจ ู ุงุณุชูุงุฏู

### ฑ. ฺฏุฑูุชู ูุด ฺฉูุฏ ุนููู ุณุฑูุฑ

ุงููู ุงุชุตุงู ุจู ุณุฑูุฑ ุฑุง ุงุฒ ุทุฑู ุชุฑููุงู ุณุงุช ุงุฑุงุฆู ุฏููุฏู ุจุฑูุฑุงุฑ ฺฉูุฏ. ุจุฑุญุณุจ ุงูฺฉู ุจู ุทูุฑ ูุนููู ุงุฒ ฺู ุงุจุฒุงุฑ ูุฎูุงูุฏ ุจุฑุง ุงุชุตุงู SSH ุจู ุณุฑูุฑ ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏุ ุจุงุฏ ูุด ฺฉูุฏ ุนููู ุจุง ูุฑูุช ููุฑุฏ ูุงุฒ ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

ed25519:

```
ssh-keygen -l -f /etc/ssh/ssh_host_ed25519_key.pub
```

md5:

```
ssh-keygen -l -f /etc/ssh/ssh_host_ed25519_key.pub -E md5
```

rsa:

```
ssh-keygen -l -f /etc/ssh/ssh_host_rsa_key.pub
```

ecdsa:

```
ssh-keygen -l -f /etc/ssh/ssh_host_ecdsa_key.pub
```

---

### ฒ. ุณุงุฎุช ฺฉูุฏ SSH (ุฏุฑ ููุฏูุฒ ุง ูููฺฉุณ)

#### ๐น ููุฏูุฒ

ุฑู ฺฉุงููพูุชุฑ ุฎูุฏ ูุงู ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```
build_ssh_key\build_ssh_key.bat
```

- ุงุฒ ุดูุง ูุงู ุจุฑุง ุณุฑูุฑ/ูพุฑูฺู ูพุฑุณุฏู ูโุดูุฏ (ูุซูุงู `server1`).  
- ฺฉูุฏูุง ุฏุฑ ูุณุฑ `%USERPROFILE%\.ssh` ุณุงุฎุชู ูโุดููุฏ.  
- ูุงูโูุง ุจู ุงู ุดฺฉู ุฎูุงููุฏ ุจูุฏ:
  - ฺฉูุฏ ุฎุตูุต - ูุญุฑูุงูู `id_ed25519_server1`
  - ฺฉูุฏ ุนููู - ูุงุจู ุงุดุชุฑุงฺฉ ุจุง ุณุฑูุฑ `id_ed25519_server1.pub`

#### ๐น ูููฺฉุณ / ูฺฉ

ุฑู ุณุณุชู ุฎูุฏ ุงู ูุงู ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```
bash build_ssh_key/build_ssh_key.sh
```

- ูุดุงุจู ููุฏูุฒุ ูุงู ุจุฑุง ุณุฑูุฑ/ูพุฑูฺู ูโฺฏุฑุฏ.  
- ฺฉูุฏูุง ุฏุฑ ูุณุฑ `~/.ssh/` ุณุงุฎุชู ูโุดููุฏ:
  - ฺฉูุฏ ุฎุตูุต - ูุญุฑูุงูู `id_ed25519_server1`
  - ฺฉูุฏ ุนููู - ูุงุจู ุงุดุชุฑุงฺฉ ุจุง ุณุฑูุฑ `id_ed25519_server1.pub`

โ๏ธ **ูฺฉุชู ุงููุช:**
- ฺฉูุฏ ุฎุตูุต (`id_ed25519_server1`) ุฑุง ููุท ุฑู ุณุณุชู ุฎูุฏ ูฺฏู ุฏุงุฑุฏ.  
- ููุท ฺฉูุฏ ุนููู (`.pub`) ุฑุง ุฏุฑ ุณุฑูุฑ ูุฑุงุฑ ุฏูุฏ. 

---

### ณ. ุงุฌุฑุง ุชูุธูุงุช ุงููู (ุฑู ุณุฑูุฑ)

ุงุจุชุฏุง ุงุณฺฉุฑูพุช ุฑุง ุฑู ุณุฑูุฑ ฺฉูพ ฺฉูุฏ ู ุงุฌุฑุง ฺฉูุฏ:

```
cd scripts
sudo bash initial_server_setup/ubuntu_init_setup.sh
```

ุงู ุงุณฺฉุฑูพุช:

- ฺฉ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุจุฏูู ูพุณูุฑุฏ ุงุฌุงุฏ ูโฺฉูุฏ.
- ฺฉูุฏ SSH ุดูุง ุฑุง ุงุถุงูู ูโฺฉูุฏ.
- ุฏุณุชุฑุณ ุฑูุช ุงุฒ ุทุฑู SSH ุฑุง ูโุจูุฏุฏ.
- ุงุญุฑุงุฒ ููุช ุจุง ุฑูุฒ ุนุจูุฑ ุฑุง ุบุฑูุนุงู ูโฺฉูุฏ (ููุท ฺฉูุฏ ูุฌุงุฒ ุงุณุช).
- ูพูุฑุช SSH ุฑุง ุชุบุฑ ูโุฏูุฏ.
- UFW (ูุงุฑูุงู) ุฑุง ูุตุจ ู ูุนุงู ูโฺฉูุฏ.
- ุขูพุฏุชโูุง ุงููุช ุฎูุฏฺฉุงุฑ ุฑุง ูุนุงู ูโฺฉูุฏ.
- ุณุงุนุช ู ููุทูู ุฒูุงู ุฑุง ุฑู **Asia/Tehran** ุชูุธู ูโฺฉูุฏ.

ุฏุฑ ูพุงุงู ุงุณฺฉุฑูพุช ุจู ุดูุง ุฏุณุชูุฑ SSH ุจุฑุง ุงุชุตุงู ุฌุฏุฏ ููุงุด ูโุฏูุฏ.

---

### ด. ุชุณุช ุงุชุตุงู

ูุจู ุงุฒ ูุฑ ุงูุฏุงู:

- ุจุง ฺฉุงุฑุจุฑ ุฌุฏุฏ ู ูพูุฑุช ุฌุฏุฏ ุจู ุณุฑูุฑ ูุตู ุดูุฏ.
- ูุทูุฆู ุดูุฏ ูุฑูุฏ ุจุง ฺฉูุฏ SSH ูููู ุงุณุช.

---

### ต. ููู ฺฉุฑุฏู ูุงุฑูุงู

ุจุนุฏ ุงุฒ ุงูฺฉู ุงุชุตุงู ุฌุฏุฏ ุฏุฑุณุช ฺฉุงุฑ ฺฉุฑุฏ:

```bash
sudo bash initial_server_setup/firewall_lockdown.sh
```

ุงู ุงุณฺฉุฑูพุช:

- ููู ูพูุฑุชโูุง ูุฑูุฏ ุฑุง ูโุจูุฏุฏ.
- ููุท ูพูุฑุช SSH (ฺฉู ูููุน ุงุฌุฑุง ุงู ูุงู ูุงุฑุฏ ูโฺฉูุฏ) ุฑุง ุจุงุฒ ูโฺฏุฐุงุฑุฏ.

---

### ถ. ุงุนูุงู ูุฑูุฏ SSH ุฏุฑ ุชูฺฏุฑุงู (ุงุฎุชุงุฑ)

ุจุฑุง ูุนุงูโุณุงุฒ ุงุนูุงูโูุง:

```bash
sudo bash initial_server_setup/setup_ssh_notify.sh
```

ุงุทูุงุนุงุช ููุฑุฏูุงุฒ:

- **Server Name** (ูุงู ุณุฑูุฑ ุจุฑุง ููุงุด ุฏุฑ ูพุงูโูุง)
- **Bot Token** (ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู)
- **Chat ID** (ุขุฏ ฺฉุงุฑุจุฑ ุง ฺฏุฑูู ุชูฺฏุฑุงู)

ุงุฒ ุงู ูพุณ ูุฑ ูุฑูุฏ SSH ุจู ุณุฑูุฑุ ฺฉ ูพุงู ุจู ุชูฺฏุฑุงู ุดูุง ุงุฑุณุงู ุฎูุงูุฏ ฺฉุฑุฏ.

## ๐ ูฺฉุงุช ุงููุช ููู

- ุชุฑุฌูุง ุจุนุฏ ุงุฒ ุงูุฌุงู ุงูุฏุงูุงุช ุจุงูุงุ ุณุฑูุฑ ุฑุง ุฑุจูุช ฺฉูุฏ. `sudo reboot`
- ููุดู ุจุนุฏ ุงุฒ ุชุบุฑ ูพูุฑุช SSH ู ฺฉูุฏฺฏุฐุงุฑุ **ูุจู ุงุฒ ุจุณุชู ูพูุฑุชโูุง** ุงุชุตุงู ุฌุฏุฏ ุฑุง ุชุณุช ฺฉูุฏ.
- ฺฉูุฏ ุฎุตูุต (`id_ed25519`) ููุท ุฑู ุณุณุชู ุฎูุฏุชุงู ุจูุงูุฏ. ูฺโููุช ุฑู ุณุฑูุฑ ุขูพููุฏ ูฺฉูุฏ.
- ุจุฑุง ุงูุฒุงุด ุงููุชุ ูโุชูุงูุฏ Fail2Ban ุง ุงุจุฒุงุฑูุง ุฏฺฏุฑ ุฑุง ูู ุงุถุงูู ฺฉูุฏ.
- ุชูุตู ูโุดูุฏ ุงุฒ **Ubuntu LTS** ุงุณุชูุงุฏู ฺฉูุฏ.

## โ ูพุฑุณุดโูุง ูุชุฏุงูู (FAQ)

### โ ฺุฑุง ููโุชูุงูู ุจุนุฏ ุงุฒ ุงุฌุฑุง ูุงุฑุฏ ุณุฑูุฑ ุดููุ

- ุงุญุชูุงูุงู ูพูุฑุช SSH ุฑุง ุฏุฑุณุช ูุงุฑุฏ ูฺฉุฑุฏูโุงุฏ.
- ูุทูุฆู ุดูุฏ ฺฉูุฏ ุนููู ุฏุฑุณุช ุฑู ุณุฑูุฑ ูุฑุงุฑ ฺฏุฑูุชู ุจุงุดุฏ.
- ูุจู ุงุฒ ุงุฌุฑุง `firewall_lockdown.sh` ุญุชูุงู ุงุชุตุงู ุฌุฏุฏ ุฑุง ุชุณุช ฺฉูุฏ.

### โ ฺฺฏููู ฺฉูุฏ ุฌุฏุฏ ุจุณุงุฒูุ

- ุฏุฑ ููุฏูุฒ: `build_ssh_key\build_ssh_key.bat`
- ุฏุฑ ูููฺฉุณ/ูฺฉ: ุฏุณุชูุฑ ุฒุฑ ุฑุง ุจุฒูุฏ:`build_ssh_key/build_ssh_key.sh`

### โ ุงุนูุงู ุชูฺฏุฑุงู ฺฉุงุฑ ููโฺฉูุฏุ

- Bot Token ุง Chat ID ุงุดุชุจุงู ูุงุฑุฏ ุดุฏู.
- ูุทูุฆู ุดูุฏ ุณุฑูุฑ ุดูุง ุจู ุงูุชุฑูุช ู Telegram API ุฏุณุชุฑุณ ุฏุงุฑุฏ.
